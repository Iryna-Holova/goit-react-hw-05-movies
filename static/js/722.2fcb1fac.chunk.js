"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[722],{1776:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(828),a="ErrorMessage_message__7qeFy",s="ErrorMessage_message_icon__ZlXVT",u=n(184),c=function(e){var t=e.message;return(0,u.jsxs)("div",{className:a,children:[(0,u.jsx)(r.JV0,{className:s}),t]})}},2639:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(828),a="Loader_loader__+lRPl",s="Loader_spinner__iDFIv",u=n(184),c=function(){return(0,u.jsxs)("div",{className:a,children:[(0,u.jsx)(r.j8h,{className:s}),"Loading..."]})}},217:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(501),a=n(6871),s="MovieItem_movie__FIDz9",u="MovieItem_movie_poster__SO+XG",c="MovieItem_movie_title__WS4Cj",o=n(184),i=function(e){var t=e.movies,n=(0,a.TH)(),i=function(e){return e?"https://image.tmdb.org/t/p/w500".concat(e):"https://ranobehub.org/img/ranobe/posters/default.jpg"};return(0,o.jsx)(o.Fragment,{children:t.map((function(e){var t=e.id,a=e.title,l=e.poster_path;return(0,o.jsx)("li",{className:s,children:(0,o.jsxs)(r.rU,{to:"/movies/".concat(t),state:{from:n},children:[(0,o.jsx)("img",{className:u,src:i(l),alt:a}),(0,o.jsx)("h2",{className:c,children:a})]})},t)}))})},l="MovieList_title__QyMtJ",p="MovieList_movie_list__IWl2j",f=function(e){var t=e.title,n=e.movies;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{className:l,children:t}),(0,o.jsx)("ul",{className:p,children:(0,o.jsx)(i,{movies:n})})]})}},5977:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(4373),a="PageNavButtons_page_container__3Fp8B",s="PageNavButtons_page_nav__TzD45",u=n(184),c=function(e){var t=e.onPageUp,n=e.onPageDown,c=e.currentPage,o=e.totalPages;return(0,u.jsxs)("div",{className:a,children:[(0,u.jsx)("button",{disabled:1===c&&!0,className:s,type:"button",onClick:n,children:(0,u.jsx)(r.PjY,{})}),(0,u.jsx)("div",{children:c}),(0,u.jsx)("button",{disabled:c===o&&!0,className:s,type:"button",onClick:t,children:(0,u.jsx)(r.fNt,{})})]})}},3722:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(885),a=n(2791),s=n(501),u=n(5667),c=n(1414),o=n(217),i=n(5977),l=n(2639),p=n(6856),f="SearchForm_form__o80os",m="SearchForm_input__HOxJo",v="SearchForm_form_button__lRXO-",_=n(184),d=function(e){var t=e.onSubmit,n=(0,a.useState)(""),s=(0,r.Z)(n,2),u=s[0],c=s[1];return(0,_.jsxs)("form",{className:f,onSubmit:function(e){e.preventDefault(),c(""),""===u.trim()?alert("Please enter search query"):t(u)},children:[(0,_.jsx)("input",{className:m,type:"text",value:u,onChange:function(e){c(e.currentTarget.value)},autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,_.jsx)("button",{type:"submit",className:v,children:(0,_.jsx)(p.vU7,{})})]})},h=n(1776),g=function(){var e=(0,s.lr)(),t=(0,r.Z)(e,2),n=t[0],p=t[1],f=(0,a.useState)(n.get("query")||""),m=(0,r.Z)(f,2),v=m[0],g=m[1],x=(0,a.useState)((function(){return Number(n.get("page"))||1})),j=(0,r.Z)(x,2),y=j[0],b=j[1],Z=(0,a.useState)(0),N=(0,r.Z)(Z,2),w=N[0],k=N[1],S=(0,a.useState)([]),P=(0,r.Z)(S,2),F=P[0],M=P[1],q=(0,a.useState)(!1),C=(0,r.Z)(q,2),L=C[0],U=C[1],D=(0,a.useState)(""),I=(0,r.Z)(D,2),T=I[0],R=I[1];(0,a.useEffect)((function(){v&&(u.NY.scrollToTop(),U(!0),R(""),(0,c.Pv)(v,y).then((function(e){var t=e.results,n=e.total_pages;M(t),k(n),0===n&&R("No movies found")})).catch((function(e){return R(e.message)})).finally((function(){U(!1)})))}),[y,v]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(d,{onSubmit:function(e){e!==v&&(p({query:e,page:1}),g(e),b(1))}}),(0,_.jsx)(o.Z,{movies:F}),T&&(0,_.jsx)(h.Z,{message:T}),L&&(0,_.jsx)(l.Z,{}),w>0&&(0,_.jsx)(i.Z,{onPageUp:function(){b((function(e){return e+1})),p({query:v,page:y+1})},onPageDown:function(){b((function(e){return e-1})),p({query:v,page:y-1})},currentPage:y,totalPages:w})]})}},1414:function(e,t,n){n.d(t,{Hx:function(){return h},Pv:function(){return p},gQ:function(){return m},uV:function(){return _},wr:function(){return i}});var r=n(5861),a=n(7757),s=n.n(a),u=n(4569),c=n.n(u),o="8b67a89c3b3cf87de76d1484537ca872";function i(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("/trending/movie/day?api_key=".concat(o,"&page=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(s().mark((function e(t,n){var r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({language:"en-US",page:n,include_adult:!1}),e.next=3,c().get("/search/movie?api_key=".concat(o,"&query=").concat(t,"&").concat(r));case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("/movie/".concat(t,"?api_key=").concat(o));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("/movie/".concat(t,"/credits?api_key=").concat(o));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("/movie/".concat(t,"/reviews?api_key=").concat(o));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c().defaults.baseURL="https://api.themoviedb.org/3"}}]);
//# sourceMappingURL=722.2fcb1fac.chunk.js.map